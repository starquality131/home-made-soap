(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,a,t){e.exports=t(31)},20:function(e,a,t){},24:function(e,a,t){},27:function(e,a,t){},31:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(13),o=t.n(i),r=(t(20),t(3)),s=t(2),c=t(4),u=t.n(c),m=t(10),g=t(5),p=t(6),d=t(8),h=t(7),f=t(9),N=(t(24),[{name:"\u6930\u5b50\u6cb9",enName:"Coconut",saponificationValue:.19,INS:258,iodineValue:"10",suggestPercentage:"15~35%",feature:"\u53ef\u4fc3\u9032\u8d77\u6ce1"},{name:"\u68d5\u6ada\u6838\u4ec1\u6cb9",enName:"Palm Kernel",saponificationValue:.156,INS:183,iodineValue:"37-42",suggestPercentage:"15~35%",feature:"\u53ef\u4fc3\u9032\u8d77\u6ce1\u7684\u6cb9"},{name:"\u68d5\u6ada\u6cb9",enName:"Palm",saponificationValue:.141,INS:145,iodineValue:"37-45",suggestPercentage:"10~60%",feature:"\u4e0d\u6613\u6eb6\u5316\u8b8a\u5f62\u7684\u786c\u80a5\u7682"},{name:"\u7d05\u68d5\u6ada\u6cb9",enName:"Red_Cocoa_Butter",saponificationValue:.141,INS:145,iodineValue:"37-45",suggestPercentage:"10~60%",feature:"\u4e0d\u6613\u6eb6\u5316\u8b8a\u5f62\u7684\u786c\u80a5\u7682"},{name:"\u6a44\u6b16\u6cb9",enName:"Olive_Oil",saponificationValue:.134,INS:109,iodineValue:"79-95",suggestPercentage:"\u53ef100%\u4f7f\u7528",feature:"\u4fdd\u6fd5\u529b"},{name:"\u4e73\u6cb9\u6728\u679c\u8102",enName:"Shea_Butter",saponificationValue:.128,INS:116,iodineValue:"55-71",suggestPercentage:"5~10%",feature:"\u4e0d\u6613\u6eb6\u5316\u8b8a\u5f62\u7684\u786c\u80a5\u7682,\u4e26\u80fd\u5728\u76ae\u819a\u4e0a\u5f62\u6210\u4fdd\u8b77\u819c"},{name:"\u53ef\u53ef\u8102",enName:"Cocoa_Butter",saponificationValue:.137,INS:157,iodineValue:"33-44",suggestPercentage:"5~10%",feature:"\u4e0d\u6613\u6eb6\u5316\u8b8a\u5f62\u7684\u786c\u80a5\u7682,\u4e26\u80fd\u5728\u76ae\u819a\u4e0a\u5f62\u6210\u4fdd\u8b77\u819c"},{name:"\u751c\u674f\u4ec1\u6cb9",enName:"Almond_Sweet",saponificationValue:.136,INS:97,iodineValue:"93-105",suggestPercentage:"15~30%",feature:"\u4fdd\u6fd5\u529b"},{name:"\u674f\u6843\u6838\u4ec1\u6cb9",enName:"Apricot_Kernel",saponificationValue:.135,INS:91,iodineValue:"92-108",suggestPercentage:"15~30%",feature:"\u4fdd\u6fd5\u529b"},{name:"\u916a\u68a8\u6cb9",enName:"Avocado",saponificationValue:.133,INS:99,iodineValue:"82-90",suggestPercentage:"10~30%",feature:"\u4fdd\u6fd5\u529b"},{name:"\u5c71\u8336\u82b1(\u693f\u6cb9)",enName:"Camellia",saponificationValue:.1362,INS:108,iodineValue:"78-88",suggestPercentage:"\u53ef100%\u4f7f\u7528",feature:"\u4fdd\u6fd5\u529b"},{name:"\u84d6\u9ebb\u6cb9",enName:"Castor",saponificationValue:.1286,INS:95,iodineValue:"82-90",suggestPercentage:"5~20%",feature:"\u4fdd\u6fd5\u529b"},{name:"\u699b\u679c\u6cb9",enName:"Hazelnut",saponificationValue:.1356,INS:94,iodineValue:"90-103",suggestPercentage:"15~30%",feature:"\u4fdd\u6fd5\u529b"},{name:"\u6fb3\u6d32\u80e1\u6843\u6cb9",enName:"Macadamia",saponificationValue:.139,INS:119,iodineValue:"73-79",suggestPercentage:"15~30%",feature:"\u4fdd\u6fd5\u529b"},{name:"\u8377\u8377\u82ad\u6cb9",enName:"Jojoba",saponificationValue:.066,INS:11,iodineValue:"80-85",suggestPercentage:"5~10%",feature:"\u4fdd\u6fd5\u529b"},{name:"\u7c73\u7ce0\u6cb9(\u7384\u7c73\u6cb9)",enName:"Rice_Bran",saponificationValue:.128,INS:70,iodineValue:"110",suggestPercentage:"20%",feature:"\u6709\u6e05\u723d\u611f\u89ba\u80a5\u7682\u7684\u6cb9"},{name:"\u958b\u5fc3\u679c\u6cb9",enName:"Pistachio_Nut",saponificationValue:.1328,INS:92,iodineValue:"93-96",suggestPercentage:"20~72%",feature:""},{name:"\u8461\u8404\u7c7d\u6cb9",enName:"Grapeseed",saponificationValue:.1265,INS:66,iodineValue:"125-137",suggestPercentage:"10%",feature:"\u6709\u6e05\u723d\u611f\u89ba\u80a5\u7682\u7684\u6cb9"},{name:"\u6708\u6842\u6cb9",enName:"Laurus_nobilis_fruit_Oil",saponificationValue:.141,INS:124,iodineValue:"",suggestPercentage:"5-25%",feature:""},{name:"\u6708\u898b\u8349\u6cb9",enName:"Evening_Primrose",saponificationValue:.1357,INS:30,iodineValue:"150-170",suggestPercentage:"5%-superfatting",feature:"\u5c0d\u554f\u984c\u76ae\u819a\u7279\u5225\u6709\u6548\u7528\u7684\u6cb9"},{name:"\u871c\u881f",enName:"Beeswax",saponificationValue:.069,INS:84,iodineValue:"",suggestPercentage:"<6%",feature:"\u7194\u9ede61-66\u5ea6"},{name:"\u767d\u6cb9",enName:"Shortening_(veg.)",saponificationValue:.136,INS:115,iodineValue:"90-95",suggestPercentage:"10~20%",feature:""}]),O=(t(27),{strip:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return+parseFloat(e.toPrecision(a))},calc:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return+parseFloat(e.toFixed(a))},isNaNToZero:function(e){return Number.isNaN(e)?0:e}}),E=function(e){function a(e){var t;return Object(g.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).doOilOptions=function(e){return e.map(function(e,a){return l.a.createElement("option",{value:e.enName,key:a,"data-index":a},e.name)})},t.calculation=function(){},t.state={usePercentage:"",useOilGram:"",NaOHGram:""},t.NaOHGram=null,t.calcIns=null,t}return Object(f.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){return this.NaOHGram=O.calc(O.strip((this.props.oilGram||0)*this.props.saponificationValue),2),this.NaOHGram=O.isNaNToZero(this.NaOHGram),this.calcIns=O.calc(O.strip(this.props.INS*(this.props.oilPercentage||0)/100),2),this.calcIns=O.isNaNToZero(this.calcIns),l.a.createElement("ul",{className:"tableRow"},l.a.createElement("li",{className:"tableCol oil_select"},l.a.createElement("select",{id:"oilName",onChange:this.props.handleOilSelect,value:this.props.defaultValue,"data-row-index":this.props.index},""===this.props.defaultValue?l.a.createElement("option",{value:""},"\u8acb\u9078\u64c7"):null,this.doOilOptions(this.props.oils)),""!==this.props.defaultValue?l.a.createElement(n.Fragment,null,"\xa0",l.a.createElement("span",null,"(",this.props.suggestPercentage,")")):null),l.a.createElement("li",{className:"tableCol"},this.props.INS),l.a.createElement("li",{className:"tableCol"},this.props.saponificationValue),l.a.createElement("li",{className:"tableCol oil_gram"},l.a.createElement("input",{type:"number","data-row-index":this.props.index,onChange:this.props.handleOilGramChange,value:this.props.oilGram>0?this.props.oilGram:""}),"\xa0g"),l.a.createElement("li",{className:"tableCol"},this.NaOHGram),l.a.createElement("li",{className:"tableCol oil_percentage"},l.a.createElement("input",{type:"number","data-row-index":this.props.index,onChange:this.props.handleOilPercentageChange,value:this.props.oilPercentage}),"\xa0%"),l.a.createElement("li",{className:"tableCol"},this.calcIns),l.a.createElement("li",{className:"tableCol"},l.a.createElement("a",{className:"delete_btn","data-row-index":this.props.index,href:"javascript:;",onClick:this.props.handleDeleteRow},"-")))}}]),a}(n.PureComponent),v=t(11),V=function(e){function a(e){var t;Object(g.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).trackGA=function(){v.a.pageview(window.location.pathname)},t.calcTotal=Object(m.a)(u.a.mark(function e(){var a,n,l,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,n=0,l=0,i=0,e.next=3,t.state.oilLists.forEach(function(e){e.oilData.saponificationValue&&(a=O.calc(O.strip(a+t.state.totalOilGram*(e.oilPercentage||0)/100*e.oilData.saponificationValue),2)),e.oilData.INS&&(n=O.calc(O.strip(n+(e.oilPercentage||0)/100*e.oilData.INS),2)),i=O.calc(O.strip(i+(e.oilPercentage||0)),0)});case 3:l=O.strip(a*t.state.waterTimes),a=O.isNaNToZero(a),n=O.isNaNToZero(n),l=O.isNaNToZero(l),i=O.isNaNToZero(i),t.setState({totalNaOHGram:a,totalINS:n,totalWaterGram:l,totalPercentage:i});case 9:case"end":return e.stop()}},e,this)})),t.updateOilLists=function(e){t.setState({oilLists:e},function(){t.calcTotal()})},t.handleSelfInputChange=function(e){t.setState(Object(s.a)({},e.target.id,e.target.value))},t.handleInputChange=function(e){var a=[].concat(t.state.oilLists);a.forEach(function(a){a.oilGram=O.calc(O.strip(e.target.value*(a.oilPercentage||0)/100),0)}),t.setState(Object(s.a)({},e.target.id,e.target.value),function(){t.updateOilLists(a)})},t.handleOilSelect=function(e){var a=e.target.dataset.rowIndex,n=e.target.value,l=[].concat(N).find(function(e){return e.enName===n}),i=[].concat(t.state.oilLists);i[a].oilData=l,t.updateOilLists(i)},t.handleOilPercentageChange=function(e){var a=e.target.dataset.rowIndex,n=t.state.totalOilGram,l=[].concat(t.state.oilLists);l[a].oilPercentage=""===e.target.value?"":+e.target.value,l[a].oilGram=""===e.target.value?"":O.strip(n*+e.target.value/100),t.updateOilLists(l)},t.handleOilGramChange=function(){var e=Object(m.a)(u.a.mark(function e(a){var n,l,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.persist(),n=a.target.dataset.rowIndex,l=[].concat(t.state.oilLists),i=0,l[n].oilGram=""===a.target.value?"":+a.target.value,e.next=6,l.forEach(function(e){i=O.calc(O.strip(i+(e.oilGram||0)),0)});case 6:return e.next=8,l.forEach(function(e){e.oilPercentage=O.calc(O.strip((e.oilGram||0)/i*100),0)});case 8:t.setState({totalOilGram:i<=0?700:i},function(){t.updateOilLists(l)});case 9:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.handleDeleteRow=function(e){var a=e.target.dataset.rowIndex,n=[].concat(t.state.oilLists);n.splice(a,1),t.updateOilLists(n)},t.handleAddOil=function(){var e=[].concat(t.state.oilLists);e=e.concat([Object(r.a)({},t.defaultOilRowData)]),t.updateOilLists(e)},t.handleWaterTimesInputChange=function(e){var a=e.target.value;t.setState({waterTimes:+a,totalWaterGram:O.strip(a*t.state.totalNaOHGram)})},t.doTableRow=function(e,a){return a.map(function(a,n){return l.a.createElement(E,{key:n,oils:e,oilPercentage:a.oilPercentage,data:a,oilGram:a.oilGram,saponificationValue:a.oilData.saponificationValue,INS:a.oilData.INS,suggestPercentage:a.oilData.suggestPercentage,defaultValue:a.oilData.enName,index:n,totalOilGram:t.state.totalOilGram,totalPercentage:t.state.totalPercentage,handleOilSelect:t.handleOilSelect,handleOilPercentageChange:t.handleOilPercentageChange,handleDeleteRow:t.handleDeleteRow,handleOilGramChange:t.handleOilGramChange})})},t.defaultOilData={name:"",enName:"",saponificationValue:null,INS:null,iodineValue:null,suggestPercentage:"",feature:""},t.defaultOilRowData={oilData:t.defaultOilData,oilPercentage:"",oilGram:""},t.state={soapName:"",oilLists:[Object(r.a)({},t.defaultOilRowData),Object(r.a)({},t.defaultOilRowData),Object(r.a)({},t.defaultOilRowData)],totalOilGram:700,totalINS:0,totalPercentage:0,totalNaOHGram:0,waterTimes:0,totalWaterGram:0,essentialOilPercentage:null,totalEssentialOilcc:null,additives:[]};var n=new Date,i=n.getFullYear(),o="0".concat(n.getMonth()+1).substr(-2),c="0".concat(n.getDate()).substr(-2);return t.today=[i,o,c].join("-"),t}return Object(f.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){v.a.initialize("G-HRH0JF903Y"),this.trackGA()}},{key:"componentDidUpdate",value:function(){this.trackGA()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,l.a.createElement("input",{type:"text",onChange:this.handleSelfInputChange,id:"soapName",value:this.state.soapName,className:"soapName"}),l.a.createElement("input",{type:"date",onChange:this.handleSelfInputChange,id:"date",value:this.state.date||this.today,className:"date"})),l.a.createElement("ul",{className:"topInfo"},l.a.createElement("li",null,"\u9810\u8a08\u88fd\u4f5c\u7e3d\u6cb9\u91cf\uff1a",l.a.createElement("input",{type:"number",onChange:this.handleInputChange,id:"totalOilGram",value:this.state.totalOilGram}),"\xa0g"),l.a.createElement("li",null,l.a.createElement("div",{className:"addRowBtnArea"},l.a.createElement("a",{href:"javascript:;",onClick:this.handleAddOil},"Add Oil")))),l.a.createElement("div",{className:"tableArea"},l.a.createElement("ul",{className:"tableHead"},l.a.createElement("li",null,"\u6cb9\u54c1\uff08\u5efa\u8b70%)"),l.a.createElement("li",null,"INS"),l.a.createElement("li",null,"\u7682\u5316\u50f9"),l.a.createElement("li",null,"x\xa0oil(g)"),l.a.createElement("li",null,"=\xa0NaOH(g)"),l.a.createElement("li",null,"oil(%)"),l.a.createElement("li",null,"Calc. INS"),l.a.createElement("li",null,"\u522a\u9664")),l.a.createElement("div",{className:"tableBody"},this.doTableRow(N,this.state.oilLists)),l.a.createElement("ul",{className:"tableFooter"},l.a.createElement("li",null,"Total"),l.a.createElement("li",null),l.a.createElement("li",null),l.a.createElement("li",null),l.a.createElement("li",null,this.state.totalNaOHGram),l.a.createElement("li",null,this.state.totalPercentage,"\xa0%"),l.a.createElement("li",null,this.state.totalINS),l.a.createElement("li",null))),l.a.createElement("ul",{className:"bottomInfo"},l.a.createElement("li",null,"\u6c34\u91cd\u91cf\uff1a\xa0",l.a.createElement("span",null,O.calc(this.state.totalWaterGram,2)),"\xa0g \xa0\uff08\xa0",l.a.createElement("input",{type:"number",onChange:this.handleWaterTimesInputChange,id:"waterTimes",className:"waterTimes"}),"\xa0\u500d\xa0\uff09"),l.a.createElement("li",null,"45%\u9e7c\u6c34\u9700\u8981\u91cf\uff1a\xa0",l.a.createElement("span",null,O.calc(O.strip(this.state.totalNaOHGram/.45),0)),"\xa0g"),l.a.createElement("li",null,"\u5c1a\u9808\u6c34\u91cf\uff1a\xa0",l.a.createElement("span",null,O.calc(O.strip(this.state.totalWaterGram-this.state.totalNaOHGram/.45*.55),0)),"\xa0g")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.c4fa3bfe.chunk.js.map